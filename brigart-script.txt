$${


echo("//gmask")

&tech = 129
#tid = 129
#td = 0



// ----------- ----------- ----------- -----------
// -----------WALLS LIST-----------
// ----------- ----------- ----------- -----------




#a = 0
&walls_color[%#a%] = 159:0
#walls_id[%#a%] = 159
#walls_d[%#a%] = 0
&walls_mix[%#a%] = 159:0

#a = #a+1
&walls_color[%#a%] = 159:1
#walls_id[%#a%] = 159
#walls_d[%#a%] = 1
&walls_mix[%#a%] = 159:1,172

#a = #a+1
&walls_color[%#a%] = 159:4
#walls_id[%#a%] = 159
#walls_d[%#a%] = 4
&walls_mix[%#a%] = 159:4

#a = #a+1
&walls_color[%#a%] = 159:5
#walls_id[%#a%] = 159
#walls_d[%#a%] = 5
&walls_mix[%#a%] = 159:5

#a = #a+1
&walls_color[%#a%] = 159:8
#walls_id[%#a%] = 159
#walls_d[%#a%] = 8
&walls_mix[%#a%] = 159:8,99:14

#a = #a+1
&walls_color[%#a%] = 159:14
#walls_id[%#a%] = 159
#walls_d[%#a%] = 14
&walls_mix[%#a%] = 159:14



#a = #a+1
&walls_color[%#a%] = 1:0
#walls_id[%#a%] = 1
#walls_d[%#a%] = 0
&walls_mix[%#a%] = 1:0

#a = #a+1
&walls_color[%#a%] = 1:1
#walls_id[%#a%] = 1
#walls_d[%#a%] = 1
&walls_mix[%#a%] = 1:1,45

#a = #a+1
&walls_color[%#a%] = 1:2
#walls_id[%#a%] = 1
#walls_d[%#a%] = 2
&walls_mix[%#a%] = 1:2,1:1

#a = #a+1
&walls_color[%#a%] = 1:3
#walls_id[%#a%] = 1
#walls_d[%#a%] = 3
&walls_mix[%#a%] = 1:3,1:4

#a = #a+1
&walls_color[%#a%] = 1:5
#walls_id[%#a%] = 1
#walls_d[%#a%] = 5
&walls_mix[%#a%] = 1:0,1:5

#a = #a+1
&walls_color[%#a%] = 1:6
#walls_id[%#a%] = 1
#walls_d[%#a%] = 6
&walls_mix[%#a%] = 1:0,1:6



#a = #a+1
&walls_color[%#a%] = 5:0
#walls_id[%#a%] = 5
#walls_d[%#a%] = 0
&walls_mix[%#a%] = 5:0

#a = #a+1
&walls_color[%#a%] = 5:1
#walls_id[%#a%] = 5
#walls_d[%#a%] = 1
&walls_mix[%#a%] = 5:1,17:12

#a = #a+1
&walls_color[%#a%] = 5:2
#walls_id[%#a%] = 5
#walls_d[%#a%] = 2
&walls_mix[%#a%] = 5:2,99

#a = #a+1
&walls_color[%#a%] = 5:3
#walls_id[%#a%] = 5
#walls_d[%#a%] = 3
&walls_mix[%#a%] = 5:0,5:3

#a = #a+1
&walls_color[%#a%] = 5:4
#walls_id[%#a%] = 5
#walls_d[%#a%] = 4
&walls_mix[%#a%] = 5:4,159:1

#a = #a+1
&walls_color[%#a%] = 5:5
#walls_id[%#a%] = 5
#walls_d[%#a%] = 5
&walls_mix[%#a%] = 5:5,17:13




#a = #a+1
&walls_color[%#a%] = 172
#walls_id[%#a%] = 172
#walls_d[%#a%] = 0
&walls_mix[%#a%] = 172:0,45:0

#a = #a+1
&walls_color[%#a%] = 155:0
#walls_id[%#a%] = 155
#walls_d[%#a%] = 0
&walls_mix[%#a%] = 155:0

#a = #a+1
&walls_color[%#a%] = 155:1
#walls_id[%#a%] = 155
#walls_d[%#a%] = 1
&walls_mix[%#a%] = 155:0,155:1

#a = #a+1
&walls_color[%#a%] = 13
#walls_id[%#a%] = 13
#walls_d[%#a%] = 0
&walls_mix[%#a%] = 13:0,1:5

#a = #a+1
&walls_color[%#a%] = 3:1
#walls_id[%#a%] = 3
#walls_d[%#a%] = 1
&walls_mix[%#a%] = 3:1,5:1

#a = #a+1
&walls_color[%#a%] = 168:1
#walls_id[%#a%] = 168
#walls_d[%#a%] = 1
&walls_mix[%#a%] = 168:1




#a = #a+1
&walls_color[%#a%] = 252:0
#walls_id[%#a%] = 252
#walls_d[%#a%] = 0
&walls_mix[%#a%] = 252:0,35:0


#a = #a+1
&walls_color[%#a%] = 12:0
#walls_id[%#a%] = 12
#walls_d[%#a%] = 0
&walls_mix[%#a%] = 12,43:9

#a = #a+1
&walls_color[%#a%] = 24:0
#walls_id[%#a%] = 24
#walls_d[%#a%] = 0
&walls_mix[%#a%] = 24:0,43:9

#a = #a+1
&walls_color[%#a%] = 24:2
#walls_id[%#a%] = 24
#walls_d[%#a%] = 2
&walls_mix[%#a%] = 24:2,43:9



#a = #a+1
&walls_color[%#a%] = 12:1
#walls_id[%#a%] = 12
#walls_d[%#a%] = 1
&walls_mix[%#a%] = 12:1,181:13

#a = #a+1
&walls_color[%#a%] = 179:0
#walls_id[%#a%] = 179
#walls_d[%#a%] = 0
&walls_mix[%#a%] = 12:1,179:0

#a = #a+1
&walls_color[%#a%] = 179:2
#walls_id[%#a%] = 179
#walls_d[%#a%] = 2
&walls_mix[%#a%] = 12:1,179:2



#a = #a+1
&walls_color[%#a%] = 252:6
#walls_id[%#a%] = 252
#walls_d[%#a%] = 6
&walls_mix[%#a%] = 252:6

#walls_num = #a




// ----------- ----------- ----------- -----------
// -----------ROOF LIST-----------
// ----------- ----------- ----------- -----------

&roof_list = 0,44,171,126,182,205,67,108,53,109,114,156,134,135,136,163,164,203,180,128
&roof_list_noair = 44,171,126,182,205,67,108,53,109,114,156,134,135,136,163,164,203,180,128
&roof_list_full = 43,35:7,35:8,35:11,35:12,35:14,125,181,204,67,108,53,109,114,156,134,135,136,163,164,203,180,128




#a = 0
&slope_roofs_color[%#a%] = 43:0
#slope_roofs_id[%#a%] = 43
#slope_roofs_d[%#a%] = 0
&slope_roofs_mix[%#a%] = 43:0

&slope_roofs_color_half[%#a%] = 44:0
#slope_roofs_id_half[%#a%] = 44
#slope_roofs_d_half[%#a%] = 0
&slope_roofs_mix_half[%#a%] = 44:0

&slope_roofs_color_up[%#a%] = 44:8
#slope_roofs_id_up[%#a%] = 44
#slope_roofs_d_up[%#a%] = 8
&slope_roofs_mix_up[%#a%] = 44:8


#a = #a+1
&slope_roofs_color[%#a%] = 43:1
#slope_roofs_id[%#a%] = 43
#slope_roofs_d[%#a%] = 1
&slope_roofs_mix[%#a%] = 43:1

&slope_roofs_color_half[%#a%] = 44:1
#slope_roofs_id_half[%#a%] = 44
#slope_roofs_d_half[%#a%] = 1
&slope_roofs_mix_half[%#a%] = 44:1

&slope_roofs_color_up[%#a%] = 44:9
#slope_roofs_id_up[%#a%] = 44
#slope_roofs_d_up[%#a%] = 9
&slope_roofs_mix_up[%#a%] = 44:9


#a = #a+1
&slope_roofs_color[%#a%] = 43:2
#slope_roofs_id[%#a%] = 43
#slope_roofs_d[%#a%] = 2
&slope_roofs_mix[%#a%] = 43:2

&slope_roofs_color_half[%#a%] = 44:2
#slope_roofs_id_half[%#a%] = 44
#slope_roofs_d_half[%#a%] = 2
&slope_roofs_mix_half[%#a%] = 44:2

&slope_roofs_color_up[%#a%] = 44:10
#slope_roofs_id_up[%#a%] = 44
#slope_roofs_d_up[%#a%] = 10
&slope_roofs_mix_up[%#a%] = 44:10


#a = #a+1
&slope_roofs_color[%#a%] = 43:3
#slope_roofs_id[%#a%] = 43
#slope_roofs_d[%#a%] = 3
&slope_roofs_mix[%#a%] = 43:3,43:5

&slope_roofs_color_half[%#a%] = 44:3
#slope_roofs_id_half[%#a%] = 44
#slope_roofs_d_half[%#a%] = 3
&slope_roofs_mix_half[%#a%] = 44:3,44:5

&slope_roofs_color_up[%#a%] = 44:11
#slope_roofs_id_up[%#a%] = 44
#slope_roofs_d_up[%#a%] = 11
&slope_roofs_mix_up[%#a%] = 44:11,44:13


#a = #a+1
&slope_roofs_color[%#a%] = 43:4
#slope_roofs_id[%#a%] = 43
#slope_roofs_d[%#a%] = 4
&slope_roofs_mix[%#a%] = 43:4

&slope_roofs_color_half[%#a%] = 44:4
#slope_roofs_id_half[%#a%] = 44
#slope_roofs_d_half[%#a%] = 4
&slope_roofs_mix_half[%#a%] = 44:4

&slope_roofs_color_up[%#a%] = 44:12
#slope_roofs_id_up[%#a%] = 44
#slope_roofs_d_up[%#a%] = 12
&slope_roofs_mix_up[%#a%] = 44:12


#a = #a+1
&slope_roofs_color[%#a%] = 43:5
#slope_roofs_id[%#a%] = 43
#slope_roofs_d[%#a%] = 5
&slope_roofs_mix[%#a%] = 43:5

&slope_roofs_color_half[%#a%] = 44:5
#slope_roofs_id_half[%#a%] = 44
#slope_roofs_d_half[%#a%] = 5
&slope_roofs_mix_half[%#a%] = 44:5

&slope_roofs_color_up[%#a%] = 44:13
#slope_roofs_id_up[%#a%] = 44
#slope_roofs_d_up[%#a%] = 13
&slope_roofs_mix_up[%#a%] = 44:13



#a = #a+1
&slope_roofs_color[%#a%] = 43:6
#slope_roofs_id[%#a%] = 43
#slope_roofs_d[%#a%] = 6
&slope_roofs_mix[%#a%] = 43:6

&slope_roofs_color_half[%#a%] = 44:6
#slope_roofs_id_half[%#a%] = 44
#slope_roofs_d_half[%#a%] = 6
&slope_roofs_mix_half[%#a%] = 44:6

&slope_roofs_color_up[%#a%] = 44:14
#slope_roofs_id_up[%#a%] = 44
#slope_roofs_d_up[%#a%] = 14
&slope_roofs_mix_up[%#a%] = 44:14



#a = #a+1
&slope_roofs_color[%#a%] = 43:7
#slope_roofs_id[%#a%] = 43
#slope_roofs_d[%#a%] = 7
&slope_roofs_mix[%#a%] = 43:7

&slope_roofs_color_half[%#a%] = 44:7
#slope_roofs_id_half[%#a%] = 44
#slope_roofs_d_half[%#a%] = 7
&slope_roofs_mix_half[%#a%] = 44:7

&slope_roofs_color_up[%#a%] = 44:15
#slope_roofs_id_up[%#a%] = 44
#slope_roofs_d_up[%#a%] = 15
&slope_roofs_mix_up[%#a%] = 44:15








#a = #a+1
&slope_roofs_color[%#a%] = 125:1
#slope_roofs_id[%#a%] = 125
#slope_roofs_d[%#a%] = 1
&slope_roofs_mix[%#a%] = 125:1

&slope_roofs_color_half[%#a%] = 126:1
#slope_roofs_id_half[%#a%] = 126
#slope_roofs_d_half[%#a%] = 1
&slope_roofs_mix_half[%#a%] = 126:1

&slope_roofs_color_up[%#a%] = 126:9
#slope_roofs_id_up[%#a%] = 126
#slope_roofs_d_up[%#a%] = 9
&slope_roofs_mix_up[%#a%] = 126:9


#a = #a+1
&slope_roofs_color[%#a%] = 125:2
#slope_roofs_id[%#a%] = 125
#slope_roofs_d[%#a%] = 2
&slope_roofs_mix[%#a%] = 125:2

&slope_roofs_color_half[%#a%] = 126:2
#slope_roofs_id_half[%#a%] = 126
#slope_roofs_d_half[%#a%] = 2
&slope_roofs_mix_half[%#a%] = 126:2

&slope_roofs_color_up[%#a%] = 126:10
#slope_roofs_id_up[%#a%] = 126
#slope_roofs_d_up[%#a%] = 10
&slope_roofs_mix_up[%#a%] = 126:10


#a = #a+1
&slope_roofs_color[%#a%] = 125:3
#slope_roofs_id[%#a%] = 125
#slope_roofs_d[%#a%] = 3
&slope_roofs_mix[%#a%] = 125:3,125:0

&slope_roofs_color_half[%#a%] = 126:3
#slope_roofs_id_half[%#a%] = 126
#slope_roofs_d_half[%#a%] = 3
&slope_roofs_mix_half[%#a%] = 126:3,126:0

&slope_roofs_color_up[%#a%] = 126:11
#slope_roofs_id_up[%#a%] = 126
#slope_roofs_d_up[%#a%] = 11
&slope_roofs_mix_up[%#a%] = 126:11,126:8


#a = #a+1
&slope_roofs_color[%#a%] = 125:4
#slope_roofs_id[%#a%] = 125
#slope_roofs_d[%#a%] = 4
&slope_roofs_mix[%#a%] = 125:4,181:0

&slope_roofs_color_half[%#a%] = 126:4
#slope_roofs_id_half[%#a%] = 126
#slope_roofs_d_half[%#a%] = 4
&slope_roofs_mix_half[%#a%] = 126:4,182:0

&slope_roofs_color_up[%#a%] = 126:12
#slope_roofs_id_up[%#a%] = 126
#slope_roofs_d_up[%#a%] = 12
&slope_roofs_mix_up[%#a%] = 126:12,182:8


#a = #a+1
&slope_roofs_color[%#a%] = 125:5
#slope_roofs_id[%#a%] = 125
#slope_roofs_d[%#a%] = 5
&slope_roofs_mix[%#a%] = 125:5

&slope_roofs_color_half[%#a%] = 126:5
#slope_roofs_id_half[%#a%] = 126
#slope_roofs_d_half[%#a%] = 5
&slope_roofs_mix_half[%#a%] = 126:5

&slope_roofs_color_up[%#a%] = 126:13
#slope_roofs_id_up[%#a%] = 126
#slope_roofs_d_up[%#a%] = 13
&slope_roofs_mix_up[%#a%] = 126:13



#a = #a+1
&slope_roofs_color[%#a%] = 181:0
#slope_roofs_id[%#a%] = 181
#slope_roofs_d[%#a%] = 0
&slope_roofs_mix[%#a%] = 181:0

&slope_roofs_color_half[%#a%] = 182:0
#slope_roofs_id_half[%#a%] = 182
#slope_roofs_d_half[%#a%] = 0
&slope_roofs_mix_half[%#a%] = 182:0

&slope_roofs_color_up[%#a%] = 182:8
#slope_roofs_id_up[%#a%] = 182
#slope_roofs_d_up[%#a%] = 8
&slope_roofs_mix_up[%#a%] = 182:8



#a = #a+1
&slope_roofs_color[%#a%] = 204:0
#slope_roofs_id[%#a%] = 204
#slope_roofs_d[%#a%] = 0
&slope_roofs_mix[%#a%] = 204:0

&slope_roofs_color_half[%#a%] = 205:0
#slope_roofs_id_half[%#a%] = 205
#slope_roofs_d_half[%#a%] = 0
&slope_roofs_mix_half[%#a%] = 205:0

&slope_roofs_color_up[%#a%] = 205:8
#slope_roofs_id_up[%#a%] = 205
#slope_roofs_d_up[%#a%] = 8
&slope_roofs_mix_up[%#a%] = 205:8

#a = #a+1
&slope_roofs_color[%#a%] = 204:0
#slope_roofs_id[%#a%] = 204
#slope_roofs_d[%#a%] = 0
&slope_roofs_mix[%#a%] = 204:0

&slope_roofs_color_half[%#a%] = 205:0
#slope_roofs_id_half[%#a%] = 205
#slope_roofs_d_half[%#a%] = 0
&slope_roofs_mix_half[%#a%] = 205:0

&slope_roofs_color_up[%#a%] = 205:8
#slope_roofs_id_up[%#a%] = 205
#slope_roofs_d_up[%#a%] = 8
&slope_roofs_mix_up[%#a%] = 205:8


#slope_roofs_num = #a






#a = 0
&flat_roofs_color[%#a%] = 35:7
#flat_roofs_id[%#a%] = 35
#flat_roofs_d[%#a%] = 7

&flat_roofs_color_half[%#a%] = 171:7
#flat_roofs_id_half[%#a%] = 171
#flat_roofs_d_half[%#a%] = 7

#a = #a+1
&flat_roofs_color[%#a%] = 35:8
#flat_roofs_id[%#a%] = 35
#flat_roofs_d[%#a%] = 8

&flat_roofs_color_half[%#a%] = 171:8
#flat_roofs_id_half[%#a%] = 171
#flat_roofs_d_half[%#a%] = 8

#a = #a+1
&flat_roofs_color[%#a%] = 35:11
#flat_roofs_id[%#a%] = 35
#flat_roofs_d[%#a%] = 11

&flat_roofs_color_half[%#a%] = 171:11
#flat_roofs_id_half[%#a%] = 171
#flat_roofs_d_half[%#a%] = 11


#a = #a+1
&flat_roofs_color[%#a%] = 35:12
#flat_roofs_id[%#a%] = 35
#flat_roofs_d[%#a%] = 12

&flat_roofs_color_half[%#a%] = 171:12
#flat_roofs_id_half[%#a%] = 171
#flat_roofs_d_half[%#a%] = 12

#a = #a+1
&flat_roofs_color[%#a%] = 35:14
#flat_roofs_id[%#a%] = 35
#flat_roofs_d[%#a%] = 14

&flat_roofs_color_half[%#a%] = 171:14
#flat_roofs_id_half[%#a%] = 171
#flat_roofs_d_half[%#a%] = 14

#flat_roofs_num = #a




// КРЫШИ СТУПЕНЬКИ


#a = 0

&steps_roofs_e[%#a%] = 67:0
#steps_roofs_e_id[%#a%] = 67
#steps_roofs_e_d[%#a%] = 0
&steps_roofs_e_mix[%#a%] = 67:0,109:0

&steps_roofs_w[%#a%] = 67:1
#steps_roofs_w_id[%#a%] = 67
#steps_roofs_w_d[%#a%] = 1
&steps_roofs_w_mix[%#a%] = 67:1,109:1

&steps_roofs_s[%#a%] = 67:2
#steps_roofs_s_id[%#a%] = 67
#steps_roofs_s_d[%#a%] = 2
&steps_roofs_s_mix[%#a%] = 67:2,109:2

&steps_roofs_n[%#a%] = 67:3
#steps_roofs_n_id[%#a%] = 67
#steps_roofs_n_d[%#a%] = 3
&steps_roofs_n_mix[%#a%] = 67:3,109:3

&steps_roofs_block[%#a%] = 4:0


#a = #a+1
&steps_roofs_e[%#a%] = 108:0
#steps_roofs_e_id[%#a%] = 108
#steps_roofs_e_d[%#a%] = 0
&steps_roofs_e_mix[%#a%] = 108:0

&steps_roofs_w[%#a%] = 108:1
#steps_roofs_w_id[%#a%] = 67
#steps_roofs_w_d[%#a%] = 1
&steps_roofs_w_mix[%#a%] = 108:1

&steps_roofs_s[%#a%] = 108:2
#steps_roofs_s_id[%#a%] = 108
#steps_roofs_s_d[%#a%] = 2
&steps_roofs_s_mix[%#a%] = 108:2

&steps_roofs_n[%#a%] = 108:3
#steps_roofs_n_id[%#a%] = 108
#steps_roofs_n_d[%#a%] = 3
&steps_roofs_n_mix[%#a%] = 108:3

&steps_roofs_block[%#a%] = 45:0


#a = #a+1
&steps_roofs_e[%#a%] = 53:0
#steps_roofs_e_id[%#a%] = 53
#steps_roofs_e_d[%#a%] = 0
&steps_roofs_e_mix[%#a%] = 53:0

&steps_roofs_w[%#a%] = 53:1
#steps_roofs_w_id[%#a%] = 53
#steps_roofs_w_d[%#a%] = 1
&steps_roofs_w_mix[%#a%] = 53:1

&steps_roofs_s[%#a%] = 53:2
#steps_roofs_s_id[%#a%] = 53
#steps_roofs_s_d[%#a%] = 2
&steps_roofs_s_mix[%#a%] = 53:2

&steps_roofs_n[%#a%] = 53:3
#steps_roofs_n_id[%#a%] = 53
#steps_roofs_n_d[%#a%] = 3
&steps_roofs_n_mix[%#a%] = 53:3

&steps_roofs_block[%#a%] = 5:0


#a = #a+1
&steps_roofs_e[%#a%] = 109:0
#steps_roofs_e_id[%#a%] = 109
#steps_roofs_e_d[%#a%] = 0
&steps_roofs_e_mix[%#a%] = 109:0

&steps_roofs_w[%#a%] = 109:1
#steps_roofs_w_id[%#a%] = 109
#steps_roofs_w_d[%#a%] = 1
&steps_roofs_w_mix[%#a%] = 109:1

&steps_roofs_s[%#a%] = 109:2
#steps_roofs_s_id[%#a%] = 109
#steps_roofs_s_d[%#a%] = 2
&steps_roofs_s_mix[%#a%] = 109:2

&steps_roofs_n[%#a%] = 109:3
#steps_roofs_n_id[%#a%] = 109
#steps_roofs_n_d[%#a%] = 3
&steps_roofs_n_mix[%#a%] = 109:3

&steps_roofs_block[%#a%] = 98:0


#a = #a+1
&steps_roofs_e[%#a%] = 114:0
#steps_roofs_e_id[%#a%] = 114
#steps_roofs_e_d[%#a%] = 0
&steps_roofs_e_mix[%#a%] = 114:0

&steps_roofs_w[%#a%] = 114:1
#steps_roofs_w_id[%#a%] = 114
#steps_roofs_w_d[%#a%] = 1
&steps_roofs_w_mix[%#a%] = 114:1

&steps_roofs_s[%#a%] = 114:2
#steps_roofs_s_id[%#a%] = 114
#steps_roofs_s_d[%#a%] = 2
&steps_roofs_s_mix[%#a%] = 114:2

&steps_roofs_n[%#a%] = 114:3
#steps_roofs_n_id[%#a%] = 114
#steps_roofs_n_d[%#a%] = 3
&steps_roofs_n_mix[%#a%] = 114:3

&steps_roofs_block[%#a%] = 112:0


#a = #a+1
&steps_roofs_e[%#a%] = 156:0
#steps_roofs_e_id[%#a%] = 156
#steps_roofs_e_d[%#a%] = 0
&steps_roofs_e_mix[%#a%] = 156:0

&steps_roofs_w[%#a%] = 156:1
#steps_roofs_w_id[%#a%] = 156
#steps_roofs_w_d[%#a%] = 1
&steps_roofs_w_mix[%#a%] = 156:1

&steps_roofs_s[%#a%] = 156:2
#steps_roofs_s_id[%#a%] = 156
#steps_roofs_s_d[%#a%] = 2
&steps_roofs_s_mix[%#a%] = 156:2

&steps_roofs_n[%#a%] = 156:3
#steps_roofs_n_id[%#a%] = 156
#steps_roofs_n_d[%#a%] = 3
&steps_roofs_n_mix[%#a%] = 156:3

&steps_roofs_block[%#a%] = 155:0


#a = #a+1
&steps_roofs_e[%#a%] = 134:0
#steps_roofs_e_id[%#a%] = 134
#steps_roofs_e_d[%#a%] = 0
&steps_roofs_e_mix[%#a%] = 134:0

&steps_roofs_w[%#a%] = 134:1
#steps_roofs_w_id[%#a%] = 134
#steps_roofs_w_d[%#a%] = 1
&steps_roofs_w_mix[%#a%] = 134:1

&steps_roofs_s[%#a%] = 134:2
#steps_roofs_s_id[%#a%] = 134
#steps_roofs_s_d[%#a%] = 2
&steps_roofs_s_mix[%#a%] = 134:2

&steps_roofs_n[%#a%] = 134:3
#steps_roofs_n_id[%#a%] = 134
#steps_roofs_n_d[%#a%] = 3
&steps_roofs_n_mix[%#a%] = 134:3

&steps_roofs_block[%#a%] = 5:1



#a = #a+1
&steps_roofs_e[%#a%] = 135:0
#steps_roofs_e_id[%#a%] = 135
#steps_roofs_e_d[%#a%] = 0
&steps_roofs_e_mix[%#a%] = 135:0

&steps_roofs_w[%#a%] = 135:1
#steps_roofs_w_id[%#a%] = 135
#steps_roofs_w_d[%#a%] = 1
&steps_roofs_w_mix[%#a%] = 135:1

&steps_roofs_s[%#a%] = 135:2
#steps_roofs_s_id[%#a%] = 135
#steps_roofs_s_d[%#a%] = 2
&steps_roofs_s_mix[%#a%] = 135:2

&steps_roofs_n[%#a%] = 135:3
#steps_roofs_n_id[%#a%] = 135
#steps_roofs_n_d[%#a%] = 3
&steps_roofs_n_mix[%#a%] = 135:3

&steps_roofs_block[%#a%] = 5:2



#a = #a+1
&steps_roofs_e[%#a%] = 136:0
#steps_roofs_e_id[%#a%] = 136
#steps_roofs_e_d[%#a%] = 0
&steps_roofs_e_mix[%#a%] = 136:0,53:0

&steps_roofs_w[%#a%] = 136:1
#steps_roofs_w_id[%#a%] = 136
#steps_roofs_w_d[%#a%] = 1
&steps_roofs_w_mix[%#a%] = 136:1,53:1

&steps_roofs_s[%#a%] = 136:2
#steps_roofs_s_id[%#a%] = 136
#steps_roofs_s_d[%#a%] = 2
&steps_roofs_s_mix[%#a%] = 136:2,53:2

&steps_roofs_n[%#a%] = 136:3
#steps_roofs_n_id[%#a%] = 136
#steps_roofs_n_d[%#a%] = 3
&steps_roofs_n_mix[%#a%] = 136:3,53:3

&steps_roofs_block[%#a%] = 5:3


#a = #a+1
&steps_roofs_e[%#a%] = 163:0
#steps_roofs_e_id[%#a%] = 163
#steps_roofs_e_d[%#a%] = 0
&steps_roofs_e_mix[%#a%] = 163:0,180:0

&steps_roofs_w[%#a%] = 163:1
#steps_roofs_w_id[%#a%] = 163
#steps_roofs_w_d[%#a%] = 1
&steps_roofs_w_mix[%#a%] = 163:1,180:1

&steps_roofs_s[%#a%] = 163:2
#steps_roofs_s_id[%#a%] = 163
#steps_roofs_s_d[%#a%] = 2
&steps_roofs_s_mix[%#a%] = 163:2,180:2

&steps_roofs_n[%#a%] = 163:3
#steps_roofs_n_id[%#a%] = 163
#steps_roofs_n_d[%#a%] = 3
&steps_roofs_n_mix[%#a%] = 163:3,180:3

&steps_roofs_block[%#a%] = 5:4


#a = #a+1
&steps_roofs_e[%#a%] = 164:0
#steps_roofs_e_id[%#a%] = 164
#steps_roofs_e_d[%#a%] = 0
&steps_roofs_e_mix[%#a%] = 164:0

&steps_roofs_w[%#a%] = 164:1
#steps_roofs_w_id[%#a%] = 164
#steps_roofs_w_d[%#a%] = 1
&steps_roofs_w_mix[%#a%] = 164:1

&steps_roofs_s[%#a%] = 164:2
#steps_roofs_s_id[%#a%] = 164
#steps_roofs_s_d[%#a%] = 2
&steps_roofs_s_mix[%#a%] = 164:2

&steps_roofs_n[%#a%] = 164:3
#steps_roofs_n_id[%#a%] = 164
#steps_roofs_n_d[%#a%] = 3
&steps_roofs_n_mix[%#a%] = 164:3

&steps_roofs_block[%#a%] = 5:5


#a = #a+1
&steps_roofs_e[%#a%] = 180:0
#steps_roofs_e_id[%#a%] = 180
#steps_roofs_e_d[%#a%] = 0
&steps_roofs_e_mix[%#a%] = 180:0

&steps_roofs_w[%#a%] = 180:1
#steps_roofs_w_id[%#a%] = 180
#steps_roofs_w_d[%#a%] = 1
&steps_roofs_w_mix[%#a%] = 180:1

&steps_roofs_s[%#a%] = 180:2
#steps_roofs_s_id[%#a%] = 180
#steps_roofs_s_d[%#a%] = 2
&steps_roofs_s_mix[%#a%] = 180:2

&steps_roofs_n[%#a%] = 180:3
#steps_roofs_n_id[%#a%] = 180
#steps_roofs_n_d[%#a%] = 3
&steps_roofs_n_mix[%#a%] = 180:3

&steps_roofs_block[%#a%] = 179:0


#a = #a+1
&steps_roofs_e[%#a%] = 203:0
#steps_roofs_e_id[%#a%] = 203
#steps_roofs_e_d[%#a%] = 0
&steps_roofs_e_mix[%#a%] = 203:0

&steps_roofs_w[%#a%] = 203:1
#steps_roofs_w_id[%#a%] = 203
#steps_roofs_w_d[%#a%] = 1
&steps_roofs_w_mix[%#a%] = 203:1

&steps_roofs_s[%#a%] = 203:2
#steps_roofs_s_id[%#a%] = 203
#steps_roofs_s_d[%#a%] = 2
&steps_roofs_s_mix[%#a%] = 203:2

&steps_roofs_n[%#a%] = 203:3
#steps_roofs_n_id[%#a%] = 203
#steps_roofs_n_d[%#a%] = 3
&steps_roofs_n_mix[%#a%] = 203:3

&steps_roofs_block[%#a%] = 201:0


#a = #a+1
&steps_roofs_e[%#a%] = 128:0
#steps_roofs_e_id[%#a%] = 128
#steps_roofs_e_d[%#a%] = 0
&steps_roofs_e_mix[%#a%] = 128:0

&steps_roofs_w[%#a%] = 128:1
#steps_roofs_w_id[%#a%] = 128
#steps_roofs_w_d[%#a%] = 1
&steps_roofs_w_mix[%#a%] = 128:1

&steps_roofs_s[%#a%] = 128:2
#steps_roofs_s_id[%#a%] = 128
#steps_roofs_s_d[%#a%] = 2
&steps_roofs_s_mix[%#a%] = 128:2

&steps_roofs_n[%#a%] = 128:3
#steps_roofs_n_id[%#a%] = 128
#steps_roofs_n_d[%#a%] = 3
&steps_roofs_n_mix[%#a%] = 128:3

&steps_roofs_block[%#a%] = 24:0


#a = #a+1
&steps_roofs_e[%#a%] = 128:0
#steps_roofs_e_id[%#a%] = 128
#steps_roofs_e_d[%#a%] = 0
&steps_roofs_e_mix[%#a%] = 128:0

&steps_roofs_w[%#a%] = 128:1
#steps_roofs_w_id[%#a%] = 128
#steps_roofs_w_d[%#a%] = 1
&steps_roofs_w_mix[%#a%] = 128:1

&steps_roofs_s[%#a%] = 128:2
#steps_roofs_s_id[%#a%] = 128
#steps_roofs_s_d[%#a%] = 2
&steps_roofs_s_mix[%#a%] = 128:2

&steps_roofs_n[%#a%] = 128:3
#steps_roofs_n_id[%#a%] = 128
#steps_roofs_n_d[%#a%] = 3
&steps_roofs_n_mix[%#a%] = 128:3

&steps_roofs_block[%#a%] = 24:0

// 67,108,53,109,114,156,134,135,136,163,164,203,180
#steps_roofs_num = #a


// ----------- ----------- ----------- -----------
// -----------ПОКРАСКА ПОЛА В БЛОК КРЫШИ-----------
// ----------- ----------- ----------- -----------

// -----------УСТАНОВКА БЛОКА КРЫШИ ПОД ЦЕНТРАЛЬНЫМ-----------


#i_tim = #slope_roofs_num
#i = 0
do(%#i_tim%)

	&color = %&slope_roofs_color[%#i%]%
	#c_id = %#slope_roofs_id_half[%#i%]%
	#c_d = %#slope_roofs_d_half[%#i%]%
	
	echo("//gmask =queryRel(0,1,0,%#c_id%,%#c_d%)\|\|queryRel(0,2,0,%#c_id%,%#c_d%)\|\|queryRel(0,3,0,%#c_id%,%#c_d%)\|\|queryRel(0,4,0,%#c_id%,%#c_d%)")
	echo("//re 2,3 %&color%") 
	#i = #i+1

loop


#i_tim = #flat_roofs_num
#i = 0
do(%#i_tim%)

	&color = %&flat_roofs_color[%#i%]%
	#c_id = %#flat_roofs_id_half[%#i%]%
	#c_d = %#flat_roofs_d_half[%#i%]%
	
	echo("//gmask =queryRel(0,1,0,%#c_id%,%#c_d%)\|\|queryRel(0,2,0,%#c_id%,%#c_d%)\|\|queryRel(0,3,0,%#c_id%,%#c_d%)\|\|queryRel(0,4,0,%#c_id%,%#c_d%)")
	echo("//re 2,3 %&color%") 
	#i = #i+1

loop



#i_tim = #steps_roofs_num
#i = 0
do(%#i_tim%)

	&color = %&steps_roofs_e[%#i%]%
	
	#c_id = %#steps_roofs_w_id[%#i%]%
	#c_d = %#steps_roofs_w_d[%#i%]%
	echo("//gmask =queryRel(0,1,0,%#c_id%,%#c_d%)\|\|queryRel(0,2,0,%#c_id%,%#c_d%)\|\|queryRel(0,3,0,%#c_id%,%#c_d%)\|\|queryRel(0,4,0,%#c_id%,%#c_d%)")
	echo("//re 2,3 %&color%") 
	
	#c_id = %#steps_roofs_e_id[%#i%]%
	#c_d = %#steps_roofs_e_d[%#i%]%
	echo("//gmask =queryRel(0,1,0,%#c_id%,%#c_d%)\|\|queryRel(0,2,0,%#c_id%,%#c_d%)\|\|queryRel(0,3,0,%#c_id%,%#c_d%)\|\|queryRel(0,4,0,%#c_id%,%#c_d%)")
	echo("//re 2,3 %&color%") 
	
	&color = %&steps_roofs_s[%#i%]%
	
	#c_id = %#steps_roofs_n_id[%#i%]%
	#c_d = %#steps_roofs_n_d[%#i%]%
	echo("//gmask =queryRel(0,1,0,%#c_id%,%#c_d%)\|\|queryRel(0,2,0,%#c_id%,%#c_d%)\|\|queryRel(0,3,0,%#c_id%,%#c_d%)\|\|queryRel(0,4,0,%#c_id%,%#c_d%)")
	echo("//re 2,3 %&color%") 
	
	#c_id = %#steps_roofs_s_id[%#i%]%
	#c_d = %#steps_roofs_s_d[%#i%]%
	echo("//gmask =queryRel(0,1,0,%#c_id%,%#c_d%)\|\|queryRel(0,2,0,%#c_id%,%#c_d%)\|\|queryRel(0,3,0,%#c_id%,%#c_d%)\|\|queryRel(0,4,0,%#c_id%,%#c_d%)")
	echo("//re 2,3 %&color%") 
	
	#i = #i+1
loop



// -----------ЗАЛИВКА ПОЛА БЛОКОМ КРЫШИ-----------
#i_tim = #slope_roofs_num
#i = 0
do(%#i_tim%)

	#c_tim = 20
	&color = %&slope_roofs_color[%#i%]%
	#c_id = %#slope_roofs_id[%#i%]%
	#c_d = %#slope_roofs_d[%#i%]%
	echo("//gmask =queryRel(1,0,0,%#c_id%,%#c_d%)\|\|queryRel(-1,0,0,%#c_id%,%#c_d%)\|\|queryRel(0,0,1,%#c_id%,%#c_d%)\|\|queryRel(0,0,-1,%#c_id%,%#c_d%)")
	do(%#c_tim%) 
		echo("//re 2,3 %&color%") 
	loop
	#i = #i+1

loop

#i_tim = #flat_roofs_num
#i = 0
do(%#i_tim%)

	#c_tim = 20
	&color = %&flat_roofs_color[%#i%]%
	#c_id = %#flat_roofs_id[%#i%]%
	#c_d = %#flat_roofs_d[%#i%]%
	echo("//gmask =queryRel(1,0,0,%#c_id%,%#c_d%)\|\|queryRel(-1,0,0,%#c_id%,%#c_d%)\|\|queryRel(0,0,1,%#c_id%,%#c_d%)\|\|queryRel(0,0,-1,%#c_id%,%#c_d%)")
	do(%#c_tim%) 
		echo("//re 2,3 %&color%") 
	loop
	#i = #i+1

loop
	
	
	
#i_tim = #steps_roofs_num
#i = 0
do(%#i_tim%)

	#c_tim = 20
	&color = %&steps_roofs_e[%#i%]%
	#c_id = %#steps_roofs_e_id[%#i%]%
	#c_d = %#steps_roofs_e_d[%#i%]%
	echo("//gmask =queryRel(1,0,0,%#c_id%,%#c_d%)\|\|queryRel(-1,0,0,%#c_id%,%#c_d%)\|\|queryRel(0,0,1,%#c_id%,%#c_d%)\|\|queryRel(0,0,-1,%#c_id%,%#c_d%)")
	do(%#c_tim%) 
		echo("//re 2,3 %&color%") 
	loop
	
	&color = %&steps_roofs_s[%#i%]%
	#c_id = %#steps_roofs_s_id[%#i%]%
	#c_d = %#steps_roofs_s_d[%#i%]%
	echo("//gmask =queryRel(1,0,0,%#c_id%,%#c_d%)\|\|queryRel(-1,0,0,%#c_id%,%#c_d%)\|\|queryRel(0,0,1,%#c_id%,%#c_d%)\|\|queryRel(0,0,-1,%#c_id%,%#c_d%)")
	do(%#c_tim%) 
		echo("//re 2,3 %&color%") 
	loop
	
	
	#i = #i+1

loop
	




	
// -----------УСТАНОВКА БЛОКА ТИПА ЗДАНИЯ ПОД ЦЕНТРАЛЬНЫМ-----------
do(7) 
echo("TYPE UNDERGROUND")
loop

echo("//shift 1 up")	

echo("//gmask")
echo("//re %&roof_list_noair% 41")	

echo("//shift 2 down")	
	
echo("//gmask =queryRel(0,2,0,41,0)")
echo("//re 41") 
echo("//re 0 41") 

echo("//gmask =queryRel(0,2,0,152,0)")
echo("//re 152") 
echo("//re 0 152") 

// ----------- ЗАЛИВКА ПОДВАЛА БЛОКОМ ТИПА ЗДАНИЯ -----------
#c_tim = 20

	&color = 41
	#c_id = 41
	#c_d = 0
	echo("//gmask =!queryRel(0,1,0,2,-1)&&!queryRel(0,1,0,3,-1)&&(queryRel(1,0,0,%#c_id%,%#c_d%)\|\|queryRel(-1,0,0,%#c_id%,%#c_d%)\|\|queryRel(0,0,1,%#c_id%,%#c_d%)\|\|queryRel(0,0,-1,%#c_id%,%#c_d%))")
	do(%#c_tim%) 
		echo("//re %&color%") 
		echo("//re 0 %&color%") 
	loop
	
	&color = 152
	#c_id = 152
	#c_d = 0
	echo("//gmask =!queryRel(0,1,0,2,-1)&&!queryRel(0,1,0,3,-1)&&(queryRel(1,0,0,%#c_id%,%#c_d%)\|\|queryRel(-1,0,0,%#c_id%,%#c_d%)\|\|queryRel(0,0,1,%#c_id%,%#c_d%)\|\|queryRel(0,0,-1,%#c_id%,%#c_d%))")
	do(%#c_tim%) 
		echo("//re %&color%") 
		echo("//re 0 %&color%") 
	loop

echo("//gmask")


// -----------ЗАМЕНА ВСЕХ БЛОКОВ ВНУТРИ ЗДАНИЯ НА ТЕХНИЧЕСКИЙ БЛОК-----------
do(7) 
echo("REPLACE ALL INSIDE")
loop
echo("//gmask")
echo("//shift 1 up")
echo("//expand 3 up")
echo("//re 41,152 %&tech%") 
echo("//contract 3 down")




// ----------- ----------- ----------- -----------
// -----------ПОКРАСКА СТЕН ФУНДАМЕНТА -----------
// ----------- ----------- ----------- -----------
do(7) 
echo("PAINT BASE")
loop

echo("//shift 1 up")


#c_tim = 20

#i_tim = #walls_num
#i = 0
do(%#i_tim%)

	&color = %&walls_color[%#i%]%
	#c_id = %#walls_id[%#i%]%
	#c_d = %#walls_d[%#i%]%
	
	
	do(%#c_tim%) 
		echo("//gmask =queryRel(1,-1,0,45,0)&&queryRel(1,0,0,%#c_id%,%#c_d%)\|\|queryRel(-1,-1,0,45,0)&&queryRel(-1,0,0,%#c_id%,%#c_d%)\|\|queryRel(0,-1,1,45,0)&&queryRel(0,0,1,%#c_id%,%#c_d%)\|\|queryRel(0,-1,-1,45,0)&&queryRel(0,0,-1,%#c_id%,%#c_d%)")
		echo("//re >45 %&color%") 
		echo("//gmask =queryRel(1,-1,1,45,0)&&queryRel(1,0,1,%#c_id%,%#c_d%)\|\|queryRel(1,-1,-1,45,0)&&queryRel(1,0,-1,%#c_id%,%#c_d%)\|\|queryRel(-1,-1,1,45,0)&&queryRel(-1,0,1,%#c_id%,%#c_d%)\|\|queryRel(-1,-1,-1,45,0)&&queryRel(-1,0,-1,%#c_id%,%#c_d%)")
		echo("//re >45 %&color%") 
		
		echo("//gmask =queryRel(1,-1,0,57,0)&&queryRel(1,0,0,%#c_id%,%#c_d%)\|\|queryRel(-1,-1,0,57,0)&&queryRel(-1,0,0,%#c_id%,%#c_d%)\|\|queryRel(0,-1,1,57,0)&&queryRel(0,0,1,%#c_id%,%#c_d%)\|\|queryRel(0,-1,-1,57,0)&&queryRel(0,0,-1,%#c_id%,%#c_d%)")
		echo("//re >57 %&color%") 
		echo("//gmask =queryRel(1,-1,1,57,0)&&queryRel(1,0,1,%#c_id%,%#c_d%)\|\|queryRel(1,-1,-1,57,0)&&queryRel(1,0,-1,%#c_id%,%#c_d%)\|\|queryRel(-1,-1,1,57,0)&&queryRel(-1,0,1,%#c_id%,%#c_d%)\|\|queryRel(-1,-1,-1,57,0)&&queryRel(-1,0,-1,%#c_id%,%#c_d%)")
		echo("//re >57 %&color%") 
		
		echo("//gmask =queryRel(1,-1,0,35,10)&&queryRel(1,0,0,%#c_id%,%#c_d%)\|\|queryRel(-1,-1,0,35,10)&&queryRel(-1,0,0,%#c_id%,%#c_d%)\|\|queryRel(0,-1,1,35,10)&&queryRel(0,0,1,%#c_id%,%#c_d%)\|\|queryRel(0,-1,-1,35,10)&&queryRel(0,0,-1,%#c_id%,%#c_d%)")
		echo("//re >35:10 %&color%") 
		echo("//gmask =queryRel(1,-1,1,35,10)&&queryRel(1,0,1,%#c_id%,%#c_d%)\|\|queryRel(1,-1,-1,35,10)&&queryRel(1,0,-1,%#c_id%,%#c_d%)\|\|queryRel(-1,-1,1,35,10)&&queryRel(-1,0,1,%#c_id%,%#c_d%)\|\|queryRel(-1,-1,-1,35,10)&&queryRel(-1,0,-1,%#c_id%,%#c_d%)")
		echo("//re >35:10 %&color%") 
	loop
	
	
	echo("//shift 1 up")
	echo("//gmask 0") 
	echo("//re >%&color% 45") 
	echo("//shift 1 down")
	
	#i = #i+1
loop

echo("//gmask 0")
do(%#c_tim%) 
	echo("//re >45 45") 
	echo("//re >57 57") 
	echo("//re >35:10 35:10") 
loop


echo("//shift 1 up")
echo("//gmask 0") 
echo("//re >45 45") 
echo("//re >57 57") 
echo("//re >35:10 35:10") 
echo("//shift 2 down")



// ----------- ----------- ----------- -----------
// ----------- ОПРЕДЕЛЕНИЕ ВЫСОТЫ ЗДАНИЯ -----------
// ----------- ----------- ----------- -----------



do(7) 
echo("CHECK HEIGHT")
loop



echo("//shift 11 up")
#f = 7
do(7) 
	echo("//gmask =queryRel(0,-%#f%,0,%#tid%,%#td%)")
	echo("//shift 1 down")
	#f = #f-1
	echo("//re %&roof_list% %&tech%")
loop

echo("//shift 1 down")
echo("//shift 5 up")
#f = 5
do(5) 
	echo("//gmask =queryRel(0,-%#f%,0,%#tid%,%#td%)")
	echo("//shift 1 down")
	#f = #f-1
	echo("//re %&roof_list% %&tech%")
loop

echo("//shift 1 down")
echo("//shift 3 up")
#f = 3
do(3) 
	echo("//gmask =queryRel(0,-%#f%,0,%#tid%,%#td%)")
	echo("//shift 1 down")
	#f = #f-1
	echo("//re %&roof_list% %&tech%")
loop

echo("//shift 1 down")

// ----------- ----------- ----------- -----------
// -----------ВОЗВЕДЕНИЕ ПЕРВОГО УРОВНЯ ДОМА-----------
// ----------- ----------- ----------- -----------
do(7) 
echo("BUILD FIRST LEVEL")
loop


	echo("//gmask =queryRel(-1,0,0,%#tid%,-1)\|\|queryRel(1,0,0,%#tid%,-1)\|\|queryRel(0,0,1,%#tid%,-1)\|\|queryRel(0,0,-1,%#tid%,-1)")
	do(20) 
		echo("//re >%&roof_list_full% %&tech%") 
	loop



echo("//shift 1 up")

// ----------- ----------- ----------- -----------
// -----------ВОЗВЕДЕНИЕ ВСЕХ ЭТАЖЕЙ-----------
// ----------- ----------- ----------- -----------
do(7) 
echo("BUILD ALL LEVELS")
loop

do(9) 
	echo("//gmask =queryRel(-1,0,0,%#tid%,%#td%)\|\|queryRel(1,0,0,%#tid%,%#td%)\|\|queryRel(0,0,1,%#tid%,%#td%)\|\|queryRel(0,0,-1,%#tid%,%#td%)")
	do(20) 
		echo("//re >%&tech% %&tech%") 
	loop

	echo("//gmask =queryRel(-1,0,0,%#tid%,%#td%)\|\|queryRel(1,0,0,%#tid%,%#td%)\|\|queryRel(0,0,1,%#tid%,%#td%)\|\|queryRel(0,0,-1,%#tid%,%#td%)")
	do(20) 
		echo("//re >45 45") 
		echo("//re >57 57") 
		echo("//re >35:10 35:10") 
	loop
	


	echo("//gmask =queryRel(-1,0,0,45,0)\|\|queryRel(1,0,0,45,0)\|\|queryRel(0,0,1,45,0)\|\|queryRel(0,0,-1,45,0)")
	echo("//re >45 45") 
	echo("//gmask =queryRel(-1,0,0,57,0)\|\|queryRel(1,0,0,57,0)\|\|queryRel(0,0,1,57,0)\|\|queryRel(0,0,-1,57,0)")
	echo("//re >57 57") 
	echo("//gmask =queryRel(-1,0,0,35,10)\|\|queryRel(1,0,0,35,10)\|\|queryRel(0,0,1,35,10)\|\|queryRel(0,0,-1,35,10)")
	echo("//re >35:10 35:10") 
	
	echo("//shift 1 up")
loop

echo("//shift 11 down")


	
// ----------- ----------- ----------- -----------
// ----------- ----------- ----------- -----------
// ----------- ----------- ----------- -----------
// ----------- КРЫША -----------
// ----------- ----------- ----------- -----------
// ----------- ----------- ----------- -----------
// ----------- ----------- ----------- -----------

echo("//expand 20 u")
echo("//gmask") 
echo("//re 57,35:10 45")
echo("//shift 3 up")


// ----------- ----------- ----------- -----------
// ----------- ДВУСКАТНАЯ КРЫША ИЗ СТУПЕНЕК-----------
// ----------- ----------- ----------- -----------


// -----&roof_list_full = 67,108,53,109,114,156,134,135,136,163,164,203

#f = 15
do(15) 
	echo("//gmask =(queryRel(0,-%#f%,0,67,0)\|\|queryRel(0,-%#f%,0,108,0)\|\|queryRel(0,-%#f%,0,53,0)\|\|queryRel(0,-%#f%,0,109,0))&&queryRel(0,1,0,0,0)")
	echo("//re %&tech% 56")
	echo("//gmask =(queryRel(0,-%#f%,0,114,0)\|\|queryRel(0,-%#f%,0,156,0)\|\|queryRel(0,-%#f%,0,134,0)\|\|queryRel(0,-%#f%,0,135,0))&&queryRel(0,1,0,0,0)")
	echo("//re %&tech% 56")
	echo("//gmask =(queryRel(0,-%#f%,0,136,0)\|\|queryRel(0,-%#f%,0,163,0)\|\|queryRel(0,-%#f%,0,164,0)\|\|queryRel(0,-%#f%,0,180,0))&&queryRel(0,1,0,0,0)")
	echo("//re %&tech% 56")
	echo("//gmask =(queryRel(0,-%#f%,0,203,0)\|\|queryRel(0,-%#f%,0,128,0))&&queryRel(0,1,0,0,0)")
	echo("//re %&tech% 56")
	#f = #f-1
loop

#f = 15
do(15) 
	echo("//gmask =(queryRel(0,-%#f%,0,67,2)\|\|queryRel(0,-%#f%,0,108,2)\|\|queryRel(0,-%#f%,0,53,2)\|\|queryRel(0,-%#f%,0,109,2))&&queryRel(0,1,0,0,0)")
	echo("//re %&tech% 49")
	echo("//gmask =(queryRel(0,-%#f%,0,114,2)\|\|queryRel(0,-%#f%,0,156,2)\|\|queryRel(0,-%#f%,0,134,2)\|\|queryRel(0,-%#f%,0,135,2))&&queryRel(0,1,0,0,0)")
	echo("//re %&tech% 49")
	echo("//gmask =(queryRel(0,-%#f%,0,136,2)\|\|queryRel(0,-%#f%,0,163,2)\|\|queryRel(0,-%#f%,0,164,2)\|\|queryRel(0,-%#f%,0,180,2))&&queryRel(0,1,0,0,0)")
	echo("//re %&tech% 49")
	echo("//gmask =(queryRel(0,-%#f%,0,203,2)\|\|queryRel(0,-%#f%,0,128,2))&&queryRel(0,1,0,0,0)")
	echo("//re %&tech% 49")
	#f = #f-1
loop



echo("//gmask 0")
echo("//re >56 56")
echo("//re >49 49")



&rcw = 56:0
#rcw_id = 56
#rcw_d = 0



echo("//gmask =((queryRel(0,0,1,%#rcw_id%,%#rcw_d%)&&queryRel(0,-1,-1,0,0))\|\|(queryRel(0,0,-1,%#rcw_id%,%#rcw_d%)&&queryRel(0,-1,1,0,0)))&&queryRel(0,0,0,0,0)")
echo("//re >45 73")


echo("//gmask =!(queryRel(1,-1,0,0,0)\|\|queryRel(-1,-1,0,0,0))")
echo("//re >%&rcw% %&rcw%")
echo("//gmask =((queryRel(0,0,1,%#rcw_id%,%#rcw_d%)&&queryRel(0,-1,-1,0,0))\|\|(queryRel(0,0,-1,%#rcw_id%,%#rcw_d%)&&queryRel(0,-1,1,0,0)))&&queryRel(0,0,0,0,0)")
echo("//re >73 73")

echo("//gmask =!(queryRel(1,-1,0,0,0)\|\|queryRel(-1,-1,0,0,0))")
echo("//re >%&rcw% %&rcw%")
echo("//gmask =((queryRel(0,0,1,%#rcw_id%,%#rcw_d%)&&queryRel(0,-1,-1,0,0))\|\|(queryRel(0,0,-1,%#rcw_id%,%#rcw_d%)&&queryRel(0,-1,1,0,0)))&&queryRel(0,0,0,0,0)")
echo("//re >73 73")

echo("//gmask =!(queryRel(1,-1,0,0,0)\|\|queryRel(-1,-1,0,0,0))")
echo("//re >%&rcw% %&rcw%")
echo("//gmask =((queryRel(0,0,1,%#rcw_id%,%#rcw_d%)&&queryRel(0,-1,-1,0,0))\|\|(queryRel(0,0,-1,%#rcw_id%,%#rcw_d%)&&queryRel(0,-1,1,0,0)))&&queryRel(0,0,0,0,0)")
echo("//re >73 73")

echo("//gmask =!(queryRel(1,-1,0,0,0)\|\|queryRel(-1,-1,0,0,0))")
echo("//re >%&rcw% %&rcw%")
echo("//gmask =((queryRel(0,0,1,%#rcw_id%,%#rcw_d%)&&queryRel(0,-1,-1,0,0))\|\|(queryRel(0,0,-1,%#rcw_id%,%#rcw_d%)&&queryRel(0,-1,1,0,0)))&&queryRel(0,0,0,0,0)")
echo("//re >73 73")






echo("//gmask =!queryRel(1,-1,0,0,0)&&queryRel(0,0,0,0,0)&&queryRel(-1,0,0,0,0)")
echo("//re >%&rcw%,73 67")

echo("//gmask =!queryRel(-1,-1,0,0,0)&&queryRel(0,0,0,0,0)&&queryRel(1,0,0,0,0)")
echo("//re >%&rcw%,73 67:1")

echo("//gmask =queryRel(1,1,0,67,0)&&queryRel(0,0,0,0,0)&&queryRel(-1,0,0,0,0)")
echo("//re >45 67:0")

echo("//gmask =queryRel(-1,1,0,67,1)&&queryRel(0,0,0,0,0)&&queryRel(1,0,0,0,0)")
echo("//re >45 67:1")

echo("//gmask =queryRel(1,0,0,45,0)&&queryRel(1,1,0,67,0)&&queryRel(-1,0,0,0,0)")
echo("//re 0 67")
echo("//gmask =queryRel(-1,0,0,45,0)&&queryRel(-1,1,0,67,1)&&queryRel(1,0,0,0,0)")
echo("//re 0 67:1")


echo("//gmask =queryRel(1,-1,0,67,1)&&queryRel(0,0,0,0,0)")
echo("//re >73 67:1")

echo("//gmask =queryRel(-1,-1,0,67,0)&&queryRel(0,0,0,0,0)")
echo("//re >73 67")

//echo("//gmask =queryRel(-1,0,0,67,-1)\|\|queryRel(1,0,0,67,-1)\|\|queryRel(0,0,1,67,-1)\|\|queryRel(0,0,-1,67,-1)")
//echo("//re %&rcw% 4")
echo("//gmask")







&rcn = 49:0
#rcn_id = 49
#rcn_d = 0


echo("//gmask =((queryRel(1,0,0,%#rcn_id%,%#rcn_d%)&&queryRel(-1,-1,0,0,0))\|\|(queryRel(-1,0,0,%#rcn_id%,%#rcn_d%)&&queryRel(1,-1,0,0,0)))&&queryRel(0,0,0,0,0)")
echo("//re >45 21")

echo("//gmask =!(queryRel(0,-1,1,0,0)\|\|queryRel(0,-1,-1,0,0))")
echo("//re >%&rcn% %&rcn%")
echo("//gmask =((queryRel(1,0,0,%#rcn_id%,%#rcn_d%)&&queryRel(-1,-1,0,0,0))\|\|(queryRel(-1,0,0,%#rcn_id%,%#rcn_d%)&&queryRel(1,-1,0,0,0)))&&queryRel(0,0,0,0,0)")
echo("//re >21 21")

echo("//gmask =!(queryRel(0,-1,1,0,0)\|\|queryRel(0,-1,-1,0,0))")
echo("//re >%&rcn% %&rcn%")
echo("//gmask =((queryRel(1,0,0,%#rcn_id%,%#rcn_d%)&&queryRel(-1,-1,0,0,0))\|\|(queryRel(-1,0,0,%#rcn_id%,%#rcn_d%)&&queryRel(1,-1,0,0,0)))&&queryRel(0,0,0,0,0)")
echo("//re >21 21")

echo("//gmask =!(queryRel(0,-1,1,0,0)\|\|queryRel(0,-1,-1,0,0))")
echo("//re >%&rcn% %&rcn%")
echo("//gmask =((queryRel(1,0,0,%#rcn_id%,%#rcn_d%)&&queryRel(-1,-1,0,0,0))\|\|(queryRel(-1,0,0,%#rcn_id%,%#rcn_d%)&&queryRel(1,-1,0,0,0)))&&queryRel(0,0,0,0,0)")
echo("//re >21 21")

echo("//gmask =!(queryRel(0,-1,1,0,0)\|\|queryRel(0,-1,-1,0,0))")
echo("//re >%&rcn% %&rcn%")
echo("//gmask =((queryRel(1,0,0,%#rcn_id%,%#rcn_d%)&&queryRel(-1,-1,0,0,0))\|\|(queryRel(-1,0,0,%#rcn_id%,%#rcn_d%)&&queryRel(1,-1,0,0,0)))&&queryRel(0,0,0,0,0)")
echo("//re >21 21")




echo("//gmask =!queryRel(0,-1,-1,0,0)&&queryRel(0,0,0,0,0)&&queryRel(0,0,1,0,0)")
echo("//re >%&rcn%,21 67:3")

echo("//gmask =!queryRel(0,-1,1,0,0)&&queryRel(0,0,0,0,0)&&queryRel(0,0,-1,0,0)")
echo("//re >%&rcn%,21 67:2")

echo("//gmask =queryRel(0,1,1,67,2)&&queryRel(0,0,0,0,0)&&queryRel(0,0,-1,0,0)")
echo("//re >45 67:2")

echo("//gmask =queryRel(0,1,-1,67,3)&&queryRel(0,0,0,0,0)&&queryRel(0,0,1,0,0)")
echo("//re >45 67:3")

echo("//gmask =queryRel(0,0,1,45,0)&&queryRel(0,0,-1,0,0)&&queryRel(0,1,1,67,2)")
echo("//re 0 67:2")
echo("//gmask =queryRel(0,0,-1,45,0)&&queryRel(0,0,1,0,0)&&queryRel(0,1,-1,67,3)")
echo("//re 0 67:3")



echo("//gmask =queryRel(0,-1,1,67,3)&&queryRel(0,0,0,0,0)")
echo("//re >21,%&rcn% 67:3")

echo("//gmask =queryRel(0,-1,-1,67,2)&&queryRel(0,0,0,0,0)")
echo("//re >21,%&rcn% 67:2")

//echo("//gmask =queryRel(0,0,-1,67,-1)\|\|queryRel(0,0,1,67,-1)\|\|queryRel(1,0,0,67,-1)\|\|queryRel(-1,0,0,67,-1)")
//echo("//re %#rcn% 4")


echo("//gmask")
echo("//re 73,21 45")





/// ПОКРАСКА ДВУСКАТНОЙ КРЫШИ


#c_tim = 10

echo("//gmask") 

	
	#i_tim = #steps_roofs_num-1
	#i = 1
	do(%#i_tim%)
			
			&color_e = %&steps_roofs_e[%#i%]%
			&color_w = %&steps_roofs_w[%#i%]%
			#c_id_e = %#steps_roofs_e_id[%#i%]%
			#c_d_e = %#steps_roofs_e_d[%#i%]%
			
			&color_s = %&steps_roofs_s[%#i%]%
			&color_n = %&steps_roofs_n[%#i%]%
			#c_id_s = %#steps_roofs_s_id[%#i%]%
			#c_d_s = %#steps_roofs_s_d[%#i%]%
			
		#f = 17
		do(15) 

			echo("//gmask =queryRel(0,-%#f%,0,%#c_id_e%,%#c_d_e%)\|\|queryRel(1,-%#f%,0,%#c_id_e%,%#c_d_e%)\|\|queryRel(-1,-%#f%,0,%#c_id_e%,%#c_d_e%)\|\|queryRel(0,-%#f%,1,%#c_id_e%,%#c_d_e%)\|\|queryRel(0,-%#f%,-1,%#c_id_e%,%#c_d_e%)")
			echo("//re 67:0 %&color_e%")
			echo("//re 67:1 %&color_w%")
			
			echo("//gmask =queryRel(0,-%#f%,0,%#c_id_s%,%#c_d_s%)\|\|queryRel(1,-%#f%,0,%#c_id_s%,%#c_d_s%)\|\|queryRel(-1,-%#f%,0,%#c_id_s%,%#c_d_s%)\|\|queryRel(0,-%#f%,1,%#c_id_s%,%#c_d_s%)\|\|queryRel(0,-%#f%,-1,%#c_id_s%,%#c_d_s%)")
			echo("//re 67:2 %&color_s%")
			echo("//re 67:3 %&color_n%")
			
			
			echo("//gmask =queryRel(2,-%#f%,0,%#c_id_e%,%#c_d_e%)\|\|queryRel(-2,-%#f%,0,%#c_id_e%,%#c_d_e%)\|\|queryRel(0,-%#f%,2,%#c_id_e%,%#c_d_e%)\|\|queryRel(0,-%#f%,-2,%#c_id_e%,%#c_d_e%)")
			echo("//re 67:0 %&color_e%")
			echo("//re 67:1 %&color_w%")
			
		#f = #f-1
		loop

		#f = 17
		do(15) 
		
			echo("//gmask =queryRel(2,-%#f%,0,%#c_id_s%,%#c_d_s%)\|\|queryRel(-2,-%#f%,0,%#c_id_s%,%#c_d_s%)\|\|queryRel(0,-%#f%,2,%#c_id_s%,%#c_d_s%)\|\|queryRel(0,-%#f%,-2,%#c_id_s%,%#c_d_s%)")
			echo("//re 67:2 %&color_s%")
			echo("//re 67:3 %&color_n%")
			
			
			echo("//gmask =queryRel(1,-%#f%,1,%#c_id_e%,%#c_d_e%)\|\|queryRel(-1,-%#f%,1,%#c_id_e%,%#c_d_e%)\|\|queryRel(1,-%#f%,-1,%#c_id_e%,%#c_d_e%)\|\|queryRel(-1,-%#f%,-1,%#c_id_e%,%#c_d_e%)")
			echo("//re 67:0 %&color_e%")
			echo("//re 67:1 %&color_w%")
			
			echo("//gmask =queryRel(1,-%#f%,1,%#c_id_s%,%#c_d_s%)\|\|queryRel(-1,-%#f%,1,%#c_id_s%,%#c_d_s%)\|\|queryRel(1,-%#f%,-1,%#c_id_s%,%#c_d_s%)\|\|queryRel(-1,-%#f%,-1,%#c_id_s%,%#c_d_s%)")
			echo("//re 67:2 %&color_s%")
			echo("//re 67:3 %&color_n%")
			
			
			
		#f = #f-1
		loop
		
		#f = 17
		do(15) 
		
		
			echo("//gmask =queryRel(2,-%#f%,2,%#c_id_e%,%#c_d_e%)\|\|queryRel(2,-%#f%,-2,%#c_id_e%,%#c_d_e%)\|\|queryRel(-2,-%#f%,2,%#c_id_e%,%#c_d_e%)\|\|queryRel(-2,-%#f%,-2,%#c_id_e%,%#c_d_e%)")
			echo("//re 67:0 %&color_e%")
			echo("//re 67:1 %&color_w%")
			
			echo("//gmask =queryRel(2,-%#f%,2,%#c_id_s%,%#c_d_s%)\|\|queryRel(2,-%#f%,-2,%#c_id_s%,%#c_d_s%)\|\|queryRel(-2,-%#f%,2,%#c_id_s%,%#c_d_s%)\|\|queryRel(-2,-%#f%,-2,%#c_id_s%,%#c_d_s%)")
			echo("//re 67:2 %&color_s%")
			echo("//re 67:3 %&color_n%")
			
		#f = #f-1
		loop
		
	#i = #i+1
	loop
	

	echo("//gmask") 
	
	
	// ПОКРАСКА ДЫРОК
	
	echo("//gmask") 
	
	#i_tim = #steps_roofs_num
	#i = 0
	do(%#i_tim%)
			#c_id_e = %#steps_roofs_e_id[%#i%]%
			#c_d_e = %#steps_roofs_e_d[%#i%]%
			#c_id_w = %#steps_roofs_w_id[%#i%]%
			#c_d_w = %#steps_roofs_w_d[%#i%]%
			#c_id_n = %#steps_roofs_n_id[%#i%]%
			#c_d_n = %#steps_roofs_n_d[%#i%]%
			#c_id_s = %#steps_roofs_s_id[%#i%]%
			#c_d_s = %#steps_roofs_s_d[%#i%]%
			
			&color = %&steps_roofs_block[%#i%]%
			
			echo("//gmask =queryRel(0,1,0,%#c_id_e%,%#c_d_e%)\|\|queryRel(0,1,0,%#c_id_w%,%#c_d_w%)")
			echo("//re 49:0,56:0 %&color%")
			echo("//gmask =queryRel(0,1,0,%#c_id_s%,%#c_d_s%)\|\|queryRel(0,1,0,%#c_id_n%,%#c_d_n%)")
			echo("//re 49:0,56:0 %&color%")
			
			echo("//gmask =(queryRel(0,1,0,%#c_id_e%,%#c_d_e%)\|\|queryRel(0,1,0,%#c_id_w%,%#c_d_w%))&&!queryRel(0,0,1,0,0)&&!queryRel(0,0,-1,0,0)")
			echo("//re 45 %&color%")

			echo("//gmask =(queryRel(0,1,0,%#c_id_n%,%#c_d_n%)\|\|queryRel(0,1,0,%#c_id_s%,%#c_d_s%))&&!queryRel(1,0,0,0,0)&&!queryRel(-1,0,0,0,0)")
			echo("//re 45 %&color%")

	
	#i = #i+1
	loop
	
	echo("//gmask") 
	echo("//re 73,21,49,56 129")

// ----------- ----------- ----------- -----------
// ----------- ЧЕТЫРЁХ-СКАТНАЯ КРЫША ИЗ ПОЛУБЛОКОВ -----------
// ----------- ----------- ----------- -----------

// -----&roof_list_full = 43,125,181,204

#f = 15
do(15) 
	echo("//gmask =(queryRel(0,-%#f%,0,43,-1)\|\|queryRel(0,-%#f%,0,125,-1)\|\|queryRel(0,-%#f%,0,181,-1)\|\|queryRel(0,-%#f%,0,204,-1))&&queryRel(0,1,0,0,0)")
	echo("//re %&tech% 43:0")
	#f = #f-1
loop

echo("//gmask 0") 
echo("//re >43 43")
echo("//gmask =queryRel(0,0,0,0,0)&&(queryRel(0,-1,0,%#tid%,%#td%)\|\|queryRel(1,0,0,43,-1)\|\|queryRel(-1,0,0,43,-1)\|\|queryRel(0,0,1,43,-1)\|\|queryRel(0,0,-1,43,-1))")
echo("//re >45 44")

echo("//gmask =queryRel(0,0,0,0,0)&&(queryRel(1,0,0,44,0)\|\|queryRel(1,0,0,44,0)\|\|queryRel(-1,0,0,44,0)\|\|queryRel(0,0,1,44,0)\|\|queryRel(0,0,-1,44,0))")

echo("//re >45 44")
echo("//re >45 44")

echo("//gmask =(queryRel(1,0,0,45,-1)&&queryRel(1,1,0,44,0))\|\|(queryRel(-1,0,0,45,-1)&&queryRel(-1,1,0,44,0))\|\|(queryRel(0,0,1,45,-1)&&queryRel(0,1,1,44,0))\|\|(queryRel(0,0,-1,45,-1)&&queryRel(0,1,-1,44,0))")
echo("//re 0 44:8")

//echo("//gmask <0")
//echo("//re %&tech% 43")

echo("//gmask =!(queryRel(1,-1,0,44,-1)\|\|queryRel(-1,-1,0,44,-1)\|\|queryRel(0,-1,1,44,-1)\|\|queryRel(0,-1,-1,4,-1)\|\|(queryRel(-1,-1,1,44,-1)\|\|queryRel(1,-1,-1,44,-1)\|\|queryRel(1,-1,1,44,-1)\|\|queryRel(-1,-1,-1,4,-1)))")
echo("//re >43 44")

echo("//gmask =!(queryRel(1,0,0,0,-1)\|\|queryRel(-1,0,0,0,-1)\|\|queryRel(0,0,1,0,-1)\|\|queryRel(0,0,-1,0,-1))")
echo("//re 44 43")

echo("//gmask =!(queryRel(1,-1,0,44,-1)\|\|queryRel(-1,-1,0,44,-1)\|\|queryRel(0,-1,1,44,-1)\|\|queryRel(0,-1,-1,4,-1)\|\|(queryRel(-1,-1,1,44,-1)\|\|queryRel(1,-1,-1,44,-1)\|\|queryRel(1,-1,1,44,-1)\|\|queryRel(-1,-1,-1,4,-1)))")
echo("//re >43 44")



	
// Уголки
	
echo("//gmask =queryRel(0,1,0,0,0)&&queryRel(-1,0,-1,45,0)&&queryRel(-1,1,-1,44,0)&&queryRel(-1,0,1,0,0)")
echo("//re 0 44:8") 

echo("//gmask =queryRel(0,1,0,0,0)&&queryRel(-1,0,1,45,0)&&queryRel(-1,1,1,44,0)&&queryRel(1,0,1,0,0)")
echo("//re 0 44:8") 

echo("//gmask =queryRel(0,1,0,0,0)&&queryRel(1,0,1,45,0)&&queryRel(1,1,1,44,0)&&queryRel(1,0,-1,0,0)")
echo("//re 0 44:8") 

echo("//gmask =queryRel(0,1,0,0,0)&&queryRel(1,0,-1,45,0)&&queryRel(1,1,-1,44,0)&&queryRel(-1,0,-1,0,0)")
echo("//re 0 44:8") 

// ----------- ----------- ----------- -----------
// ----------- ПЛОСКАЯ КРЫША ИЗ КОВРОВ -----------
// ----------- ----------- ----------- -----------

#c_tim = 10


#f = 15
do(15) 
	echo("//gmask =queryRel(0,-%#f%,0,35,7)&&queryRel(0,1,0,0,0)")
	echo("//re %&tech% 35:7")
	#f = #f-1
loop
#f = 15
do(15) 
	echo("//gmask =queryRel(0,-%#f%,0,35,14)&&queryRel(0,1,0,0,0)")
	echo("//re %&tech% 35:14")
	#f = #f-1
loop
#f = 15
do(15) 
	echo("//gmask =queryRel(0,-%#f%,0,35,8)&&queryRel(0,1,0,0,0)")
	echo("//re %&tech% 35:8")
	#f = #f-1
loop
#f = 15
do(15) 
	echo("//gmask =queryRel(0,-%#f%,0,35,11)&&queryRel(0,1,0,0,0)")
	echo("//re %&tech% 35:11")
	#f = #f-1
loop
#f = 15
do(15) 
	echo("//gmask =queryRel(0,-%#f%,0,35,12)&&queryRel(0,1,0,0,0)")
	echo("//re %&tech% 35:12")
	#f = #f-1
loop

echo("//gmask 0")
echo("//re >35:7 171:7")
echo("//re >35:8 171:8")
echo("//re >35:14 171:14")
echo("//re >35:12 171:12")
echo("//re >35:11 171:11")

	&color = 171:7
	#c_id = 171
	#c_d = 7
	echo("//gmask =queryRel(0,0,0,0,0)&&(queryRel(1,0,0,%#c_id%,%#c_d%)\|\|queryRel(-1,0,0,%#c_id%,%#c_d%)\|\|queryRel(0,0,1,%#c_id%,%#c_d%)\|\|queryRel(0,0,-1,%#c_id%,%#c_d%))")
	echo("//re >45 %&color%") 
	echo("//re >45 %&color%") 
	
	&color = 171:8
	#c_id = 171
	#c_d = 8
	echo("//gmask =queryRel(0,0,0,0,0)&&(queryRel(1,0,0,%#c_id%,%#c_d%)\|\|queryRel(-1,0,0,%#c_id%,%#c_d%)\|\|queryRel(0,0,1,%#c_id%,%#c_d%)\|\|queryRel(0,0,-1,%#c_id%,%#c_d%))")
	echo("//re >45 %&color%") 
	echo("//re >45 %&color%") 
	
	&color = 171:12
	#c_id = 171
	#c_d = 12
	echo("//gmask =queryRel(0,0,0,0,0)&&(queryRel(1,0,0,%#c_id%,%#c_d%)\|\|queryRel(-1,0,0,%#c_id%,%#c_d%)\|\|queryRel(0,0,1,%#c_id%,%#c_d%)\|\|queryRel(0,0,-1,%#c_id%,%#c_d%))")
	echo("//re >45 %&color%") 
	echo("//re >45 %&color%") 
	
	&color = 171:11
	#c_id = 171
	#c_d = 11
	echo("//gmask =queryRel(0,0,0,0,0)&&(queryRel(1,0,0,%#c_id%,%#c_d%)\|\|queryRel(-1,0,0,%#c_id%,%#c_d%)\|\|queryRel(0,0,1,%#c_id%,%#c_d%)\|\|queryRel(0,0,-1,%#c_id%,%#c_d%))")
	echo("//re >45 %&color%") 
	echo("//re >45 %&color%") 
	
	&color = 171:14
	#c_id = 171
	#c_d = 14
	echo("//gmask =queryRel(0,0,0,0,0)&&(queryRel(1,0,0,%#c_id%,%#c_d%)\|\|queryRel(-1,0,0,%#c_id%,%#c_d%)\|\|queryRel(0,0,1,%#c_id%,%#c_d%)\|\|queryRel(0,0,-1,%#c_id%,%#c_d%))")
	echo("//re >45 %&color%") 
	echo("//re >45 %&color%") 


echo("//gmask")

// ----------- ----------- ----------- -----------
// ----------- ----------- ----------- -----------
// ----------- ----------- ----------- -----------


echo("//contract 20 d")
echo("//gmask")
echo("//shift 3 down")



// ----------- ----------- ----------- -----------
// ----------- ----------- ----------- -----------
// ----------- ----------- ----------- -----------
// ----------- ОКНА -----------
// ----------- ----------- ----------- -----------
// ----------- ----------- ----------- -----------
// ----------- ----------- ----------- -----------

echo("//shift 2 up")

echo("//re 45 95:8")
echo("//shift 1 up")
echo("//re 45 95:8")

echo("//shift 2 up")
echo("//re 45 95:8")
echo("//shift 1 up")
echo("//re 45 95:8")

echo("//shift 2 up")
echo("//re 45 95:8")
echo("//shift 1 up")
echo("//re 45 95:8")

echo("//shift 2 up")
echo("//re 45 95:8")
echo("//shift 1 up")
echo("//re 45 95:8")

echo("//shift 10 down")

echo("//expand 10 up")

echo("//gmask =(queryRel(-1,0,0,0,0)&&queryRel(1,0,0,0,0))\|\|(queryRel(0,0,-1,0,0)&&queryRel(0,0,1,0,0))")
echo("//re 95:8 45")

echo("//gmask =(queryRel(1,0,0,95,-1)&&queryRel(0,0,1,95,-1))\|\|(queryRel(-1,0,0,95,-1)&&queryRel(0,0,-1,95,-1))\|\|(queryRel(1,0,0,95,-1)&&queryRel(0,0,-1,95,-1))\|\|(queryRel(-1,0,0,95,-1)&&queryRel(0,0,1,95,-1))")
echo("//re 95:8 45")


echo("//gmask =(abs(x)%3)&&((!(queryRel(0,0,1,45,0)\|\|queryRel(0,0,1,%#tid%,%#td%))&&(queryRel(0,0,-1,%#tid%,%#td%))\|\|(!(queryRel(0,0,-1,45,0)\|\|queryRel(0,0,-1,%#tid%,%#td%))&&(queryRel(0,0,1,%#tid%,%#td%)))))")
echo("//re 95:8 45")

echo("//gmask =(abs(z)%3)&&((!(queryRel(-1,0,0,45,0)\|\|queryRel(-1,0,0,%#tid%,%#td%))&&(queryRel(1,0,0,%#tid%,%#td%))\|\|(!(queryRel(1,0,0,45,0)\|\|queryRel(1,0,0,%#tid%,%#td%))&&(queryRel(-1,0,0,%#tid%,%#td%)))))")
echo("//re 95:8 45")


echo("//gmask")
echo("//contract 10 down")

echo("//shift 2 down")




// ----------- ----------- ----------- -----------
// ----------- ----------- ----------- -----------
// ----------- ----------- ----------- -----------
// ----------- ТЕКСТУРИНГ -----------
// ----------- ----------- ----------- -----------
// ----------- ----------- ----------- -----------
// ----------- ----------- ----------- -----------



// ----------- ----------- ----------- -----------
// ----------- ПОКРАСКА СТЕН ВСЕХ ЭТАЖЕЙ -----------
// ----------- ----------- ----------- -----------


echo("//shift 2 up")

#f = 1
do(16) 

	#i_tim = #walls_num
	#i = 0
	do(%#i_tim%)
		&color = %&walls_color[%#i%]%
		#c_id = %#walls_id[%#i%]%
		#c_d = %#walls_d[%#i%]%
		
		echo("//gmask =queryRel(0,-%#f%,0,%#c_id%,%#c_d%)")
		echo("//re 45 %&color%")
		
		#i = #i+1
	loop

	
	echo("//shift 1 up")
	#f = #f+1

loop


echo("//shift 16 down")
echo("//expand 16 up")

echo("//gmask")


// ----------- МИКСЫ  -----------
// ----------- МИКСЫ  -----------

echo("//expand 26 up")


	#i_tim = #walls_num
	#i = 0
	do(%#i_tim%)

		&color = %&walls_color[%#i%]%
		&c_mix = %&walls_mix[%#i%]%

		echo("//re %&color% %&c_mix%")
		
		#i = #i+1
	loop
	
	
	#i_tim = #slope_roofs_num
	#i = 0
	do(%#i_tim%)

		&color = %&slope_roofs_color[%#i%]%
		&c_mix = %&slope_roofs_mix[%#i%]%
		echo("//re %&color% %&c_mix%")
		
		&color = %&slope_roofs_color_half[%#i%]%
		&c_mix = %&slope_roofs_mix_half[%#i%]%
		echo("//re %&color% %&c_mix%")
		
		&color = %&slope_roofs_color_up[%#i%]%
		&c_mix = %&slope_roofs_mix_up[%#i%]%
		echo("//re %&color% %&c_mix%")
		
		#i = #i+1
	loop
	
	#i_tim = #steps_roofs_num
	#i = 0
	do(%#i_tim%)

		&color = %&steps_roofs_n[%#i%]%
		&c_mix = %&steps_roofs_n_mix[%#i%]%
		echo("//re %&color% %&c_mix%")
		
		&color = %&steps_roofs_w[%#i%]%
		&c_mix = %&steps_roofs_w_mix[%#i%]%
		echo("//re %&color% %&c_mix%")
		
		&color = %&steps_roofs_s[%#i%]%
		&c_mix = %&steps_roofs_s_mix[%#i%]%
		echo("//re %&color% %&c_mix%")
		
		&color = %&steps_roofs_e[%#i%]%
		&c_mix = %&steps_roofs_e_mix[%#i%]%
		echo("//re %&color% %&c_mix%")
		
		#i = #i+1
	loop

echo("//contract 12 down")



// ----------- ----------- ----------- -----------
// ----------- ПОКРАСКА КРЫШИ -----------
// ----------- ----------- ----------- -----------
echo("//expand 20 up")

#c_tim = 10

echo("//gmask") 

	
	#i_tim = #slope_roofs_num
	#i = 1
	do(%#i_tim%)
	
			&color = %&slope_roofs_color_half[%#i%]%
			#c_id = %#slope_roofs_id[%#i%]%
			#c_d = %#slope_roofs_d[%#i%]%
			&color2 = %&slope_roofs_color[%#i%]%
			&color3 = %&slope_roofs_color_up[%#i%]%
	
		#f = 15
		do(13) 

			echo("//gmask =queryRel(0,-%#f%,0,%#c_id%,%#c_d%)")
			echo("//re 44:0 %&color%")
			echo("//re 43:0 %&color2%")
			echo("//re 44:8 %&color3%")
			
		#f = #f-1
		loop
		
	#i = #i+1
	loop
	
	#i_tim = #slope_roofs_num
	#i = 1
	do(%#i_tim%)
	
			&color = %&slope_roofs_color_half[%#i%]%
			#c_id = %#slope_roofs_id[%#i%]%
			#c_d = %#slope_roofs_d[%#i%]%
			&color2 = %&slope_roofs_color[%#i%]%
			&color3 = %&slope_roofs_color_up[%#i%]%
	
		#f = 15
		do(13) 
			
			echo("//gmask =queryRel(1,-%#f%,0,%#c_id%,%#c_d%)\|\|queryRel(-1,-%#f%,0,%#c_id%,%#c_d%)\|\|queryRel(0,-%#f%,1,%#c_id%,%#c_d%)\|\|queryRel(0,-%#f%,-1,%#c_id%,%#c_d%)")
			echo("//re 44:0 %&color%")
			echo("//re 43:0 %&color2%")
			echo("//re 44:8 %&color3%")
			
			echo("//gmask =queryRel(1,-%#f%,1,%#c_id%,%#c_d%)\|\|queryRel(1,-%#f%,-1,%#c_id%,%#c_d%)\|\|queryRel(-1,-%#f%,1,%#c_id%,%#c_d%)\|\|queryRel(-1,-%#f%,-1,%#c_id%,%#c_d%)")
			echo("//re 44:0 %&color%")
			echo("//re 43:0 %&color2%")
			echo("//re 44:8 %&color3%")
			
					#f = #f-1
		loop
		
	#i = #i+1
	loop
	
	#i_tim = #slope_roofs_num
	#i = 1
	do(%#i_tim%)
	
			&color = %&slope_roofs_color_half[%#i%]%
			#c_id = %#slope_roofs_id[%#i%]%
			#c_d = %#slope_roofs_d[%#i%]%
			&color2 = %&slope_roofs_color[%#i%]%
			&color3 = %&slope_roofs_color_up[%#i%]%
	
		#f = 15
		do(13) 
			
			echo("//gmask =queryRel(2,-%#f%,0,%#c_id%,%#c_d%)\|\|queryRel(-2,-%#f%,0,%#c_id%,%#c_d%)\|\|queryRel(0,-%#f%,2,%#c_id%,%#c_d%)\|\|queryRel(0,-%#f%,-2,%#c_id%,%#c_d%)")
			echo("//re 44:0 %&color%")
			echo("//re 43:0 %&color2%")
			echo("//re 44:8 %&color3%")
			
			echo("//gmask =queryRel(2,-%#f%,2,%#c_id%,%#c_d%)\|\|queryRel(2,-%#f%,-2,%#c_id%,%#c_d%)\|\|queryRel(-2,-%#f%,2,%#c_id%,%#c_d%)\|\|queryRel(-2,-%#f%,-2,%#c_id%,%#c_d%)")
			echo("//re 44:0 %&color%")
			echo("//re 43:0 %&color2%")
			echo("//re 44:8 %&color3%")
			
			#f = #f-1
		loop

		#i = #i+1
	loop

echo("//gmask") 



	#i_tim = #slope_roofs_num
	#i = 1
	do(%#i_tim%)

			&color = %&slope_roofs_color_up[%#i%]%
			#c_id = %#slope_roofs_id_up[%#i%]%
			#c_d = %#slope_roofs_d_up[%#i%]%
			
			echo("//gmask =(queryRel(1,0,0,%#c_id%,%#c_d%)&&queryRel(-1,0,0,%#c_id%,%#c_d%))\|\|(queryRel(0,0,1,%#c_id%,%#c_d%)&&queryRel(0,0,-1,%#c_id%,%#c_d%))")
			echo("//re 44:8 %&color%")
			echo("//gmask =(queryRel(1,0,0,%#c_id%,%#c_d%)&&queryRel(-1,0,0,0,0))\|\|(queryRel(-1,0,0,%#c_id%,%#c_d%)&&queryRel(1,0,0,0,0))")
			echo("//re 44:8 %&color%")
			echo("//gmask =(queryRel(0,0,1,%#c_id%,%#c_d%)&&queryRel(0,0,-1,0,0))\|\|(queryRel(1,0,0,%#c_id%,%#c_d%)&&queryRel(-1,0,0,0,0))")
			echo("//re 44:8 %&color%")

			
		#i = #i+1
	loop
	wait(1)
	
	
echo("//gmask") 	

// ----------- ----------- ----------- -----------
// ----------- МИКСЫ КРЫШИ -----------
// ----------- ----------- ----------- -----------


echo("//gmask") 





echo("//re %&tech% 159:9")

echo("//contract 20 d")




echo("COMPLETE") 
}$$